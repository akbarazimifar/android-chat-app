package com.example.chatapplication.activities;

import androidx.activity.result.ActivityResultLauncher;
import androidx.activity.result.contract.ActivityResultContracts;
import androidx.appcompat.app.AppCompatActivity;
import androidx.appcompat.app.AppCompatDelegate;

import android.content.Intent;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.net.Uri;
import android.os.Bundle;
import android.provider.MediaStore;
import android.util.Base64;
import android.util.Patterns;
import android.view.View;
import android.widget.Toast;

import com.example.chatapplication.R;
import com.example.chatapplication.databinding.ActivitySignUpBinding;
import com.example.chatapplication.utilities.Constants;
import com.example.chatapplication.utilities.PreferenceManager;
import com.google.firebase.firestore.FirebaseFirestore;

import java.io.ByteArrayOutputStream;
import java.io.FileNotFoundException;
import java.io.InputStream;
import java.util.HashMap;
import java.util.regex.Pattern;

public class SignUpActivity extends AppCompatActivity {

    private ActivitySignUpBinding binding;
    private String encodedImage;
    private PreferenceManager preferenceManager;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);

        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);

        binding = ActivitySignUpBinding.inflate(getLayoutInflater());
        setContentView(binding.getRoot());
        preferenceManager = new PreferenceManager(getApplicationContext());
        setListeners();
    }

    private void setListeners() {
        binding.textSignIn.setOnClickListener(v -> onBackPressed());
        binding.buttonSignUp.setOnClickListener(v -> {
            if (isValidSignUpDetails()) {
                signUp();
            }
        });
        binding.layoutImage.setOnClickListener(v -> {
            Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.EXTERNAL_CONTENT_URI);
            intent.addFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);
            pickImage.launch(intent);
        });
    }

    private void showToast(String message) {
        Toast.makeText(getApplicationContext(), message, Toast.LENGTH_SHORT).show();
    }

    private void signUp() {
        loading(true);
        FirebaseFirestore database = FirebaseFirestore.getInstance();
        HashMap<String, Object> user = new HashMap<>();
        user.put(Constants.KEY_NAME, binding.inputName.getText().toString());
        user.put(Constants.KEY_EMAIL, binding.inputEmail.getText().toString());
        user.put(Constants.KEY_PASSWORD, binding.inputPassword.getText().toString());
        if (encodedImage == null) {
            encodedImage = "/9j/4AAQSkZJRgABAQAAAQABAAD/4gIoSUNDX1BST0ZJTEUAAQEAAAIYAAAAAAIQAABtbnRyUkdCIFhZWiAAAAAAAAAAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAAHRyWFlaAAABZAAAABRnWFlaAAABeAAAABRiWFlaAAABjAAAABRyVFJDAAABoAAAAChnVFJDAAABoAAAAChiVFJDAAABoAAAACh3dHB0AAAByAAAABRjcHJ0AAAB3AAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAFgAAAAcAHMAUgBHAEIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFhZWiAAAAAAAABvogAAOPUAAAOQWFlaIAAAAAAAAGKZAAC3hQAAGNpYWVogAAAAAAAAJKAAAA+EAAC2z3BhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABYWVogAAAAAAAA9tYAAQAAAADTLW1sdWMAAAAAAAAAAQAAAAxlblVTAAAAIAAAABwARwBvAG8AZwBsAGUAIABJAG4AYwAuACAAMgAwADEANv/bAEMAEAsMDgwKEA4NDhIREBMYKBoYFhYYMSMlHSg6Mz08OTM4N0BIXE5ARFdFNzhQbVFXX2JnaGc+TXF5cGR4XGVnY//bAEMBERISGBUYLxoaL2NCOEJjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY//AABEIA+gD6AMBIgACEQEDEQH/xAAbAAEBAAIDAQAAAAAAAAAAAAAAAQUGAgMEB//EAEMQAQABAwIEAwQHBgQFBAMBAAABAgMRBCEFEjFBE1FhBiIycRQjQlKBodEzYnORseE0cpLBFSRDU1QWY5OygvDxov/EABkBAQEBAQEBAAAAAAAAAAAAAAABAwIEBf/EACERAQEBAQADAQEBAQEBAQAAAAABAhEDITESE1FBImFx/9oADAMBAAIRAxEAPwDdgRqxVAAAAQAABAAUBFQAAAAABABABQAABAAAAAEAAAQAAAUQAAABAAAEAAAAEBQAABAAAABAAAEAAVAABAAAAAABAVAVAAAEAAAAAAAEAAFQAAEAAAAAABBAVQAQRUAAAAEAQAAAABFRQAAABlEB5nqAAEAAAAAQAUEAAAAABAAAEAFAEAAABAVAEAAAAAFBAAAAQAABAAAABAUAAEAAAAAQAABFABAAVBAAAAAAEAAFAAQQAAAAAAABBQARABQBAAAEVBBUAVAAAUEAAAAAAEEVAAAAQAAFAAQAFZMB5nqEAAAQAABFFEAAAAAEAAAQAUAQAAAABAEAAAAAFAQAAAQAABAAAAAQUAAAQAAAAQAABAVAUABBAAAAAABAAFAAAEEAAAAAAEAAAQAUAQAAAAAARAFAAAEAAAAEAQAAAABFRQAQAFAAQABk0B5nrAAABBAUVAAAAAAQAAFAAQEAAAAAEAQAAAABFFQAAABAAAQAAEUBAUAABAAAAAQAABFAAAAQQAAAAAAAEBQAEBAAAAAAABFRQARABQBAAAAAAQFQBABQEAAAAAAQRUAAABAAAUABAAAEAABkwHmeoAABFFQAAAAAEAQAAAUAQAAAABAAAEAAAFBAAAAQAABAAAAAQUAABAAAAAQAABAAFAAQQAAAAAAQFEFQAAQAAAAAAAEVAABABQBAAAABAAEAUAABAAAAAQBAAAAAEBQAAAAAEBAAAABRkwHmesAEEAAAAAEAAAEAAARQAAAAQAABAAAEUVAAAAQAABAAEVFAQFAAAQAAAAEAAARRUAQAAQAAAAAAQABQAEBAAAAAAAAEUABAAAQBUAAAAEEVAAAUAQAAAAAEEVAAAARUAAUABAAEVAAAAAABRkwR5nqVAAAAAAQBAAABQBAAAAAEAAAQAAAUEAAABAAAEAAAABBQAAEAAAABAAAEAAAAVBAAAAAAAAQFAAQEAAAAAAAEVAABABQBAAAABAAEAUAABAAAAAAARAAAAARQAAAAAEAQFQAAFAAEABlEB5nqAAAAEVAABAAAEUAAAAQAAAAAQAUEVAAAEAAAQAAAARUUAAEVAAAABAAABRABAABAAAAAARUAAVAABFQAAAAAAAAEAVAAAEAAAABBQRAFAAAQAAAAABAABAAAQAAAAVAAAEAAAAABFAAQABkwHmesBAVAAAAAVAEA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AEEAAAQAAAAABQEBAAGTAeZ6wAAEEVAAAABAAFAAQAABAAAAFAEEAAAAAAEAAAAEBUAABUAAEAAAAEAAAAEAFAABAABAVAEAAAFAAAQAAABBFQAAFAEBRAQAAAAQAAAAAARUAAAAEAAAABQAEAQAAAQAAAAAAAEFQAAABkwHmeoBAAAAAEBQAAAAAEBAAAABQBAAAABAABAAAABFABEAFAAEAAAABAABAAAAAEUVAABBFQAAAAFAABAAAAAEQAABQAAQBAAAEAAAAAAABFAAQAAQAAAAFAABFQQAARUAAAAAAUEVBAAAAAAGTBHmepUAAAAQAAUABAAAEAAAAABFABEAFAABAAAABAABABQAAQAAAAQQAFABABQBAAAAAEAQAAAUAABAAAAEEVAAAUAAEAQAABAVAAAAAAAUQAAAQEAAAAFAAQBAAAAQAAAAAAAQVFQAAAAAQAGTAeZ6gAAQUAAAAABAEAAAAUAAQAAAQAAQAAAARRUBAAVAABAAAABAABAAABQAAQAAQFQBABQAAAAQAAAAQQAAAUAABAQAABAVAAAAAUABBAAAAQAAAAFAAAEAAEEVAAAAAAFBFQQAAAABAAAAAZMB5nqEAAAABUAAAQFQAAFAEBUBEAFAAAQAAABAVAEAFAEBUAAAAEEAAAAAFAABAAAAQBAAABQAABAAAAQQAAAUAABAAAQBAVAAAAAABFFQBAAAQAAAAUABAQAAFAQQAAAAAAEFRUAAAAEAAAAVAAGTQHmesAEABQAQRUAAAAUAAQAAAQAAQAAAARQAAAEAAEAAAAEAAEAAAFAEAAAAAQBABQAAAAQAAAABEAAAUAAEVAABAABAAAAAABFAAQAAQAAAAFAAAEAAEAQAAAAABQRUEAAAAAQAAABQAEBAGTAeZ6wAQEUAEAAAAUEVAABAAAAEAAAAABAFAAAAQRUAAAAEEVAAAAFAAEAAABABAAABQAAQAABAEAAUAAAAABEAAABAAAAAFAEAAEAAEAAAABQAAQBAABFQAAAAAABFRUAAAAEAAAABQAEQAAAGTAeZ6wAAARAAAFAABAAAEAAAAQAAAEAAAUAAEAQAAAAQBAAAAABQQAAAEAQAAAAAUAAQAAAQQAAFAAAAEAEAAEAAAAAABQQBAABAAAAAAAUAAQAQAAQAAAAAEBQAEAAAAQAAAABUEAAAAAH/2Q==";
        }
        user.put(Constants.KEY_IMAGE, encodedImage);
        database.collection(Constants.KEY_COLLECTION_USERS).add(user).addOnSuccessListener(documentReference -> {
            loading(false);
            preferenceManager.putBoolean(Constants.KEY_IS_SIGN_IN, true);
            preferenceManager.putString(Constants.KEY_USER_ID, documentReference.getId());
            preferenceManager.putString(Constants.KEY_NAME, binding.inputName.getText().toString());
            preferenceManager.putString(Constants.KEY_IMAGE, encodedImage);

            Intent intent = new Intent(getApplicationContext(), MainActivity.class);
            intent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);
            startActivity(intent);

        }).addOnFailureListener(exception -> {
            loading(false);
            showToast(exception.getMessage());
        });
    }

    private String encodeImage(Bitmap bitmap) {
        int previewWidth = 1000;
        int previewHeight = bitmap.getHeight() * previewWidth / bitmap.getWidth();
        Bitmap previewBitMap = Bitmap.createScaledBitmap(bitmap, previewWidth, previewHeight, false);
        ByteArrayOutputStream byteArrayOutputStream = new ByteArrayOutputStream();
        previewBitMap.compress(Bitmap.CompressFormat.JPEG, 50, byteArrayOutputStream);
        byte[] bytes = byteArrayOutputStream.toByteArray();
        return Base64.encodeToString(bytes, Base64.DEFAULT);
    }

    private final ActivityResultLauncher<Intent> pickImage = registerForActivityResult(
        new ActivityResultContracts.StartActivityForResult(), result -> {
            if (result.getResultCode() == RESULT_OK) {
                if (result.getData() != null) {
                    Uri imageUri = result.getData().getData();
                    try {
                        InputStream inputStream = getContentResolver().openInputStream(imageUri);
                        Bitmap bitmap = BitmapFactory.decodeStream(inputStream);
                        binding.imageProfile.setImageBitmap(bitmap);
                        binding.textAddImage.setVisibility(View.GONE);
                        encodedImage = encodeImage(bitmap);
                    } catch (FileNotFoundException e) {
                        e.printStackTrace();
                    }
                }
            }
        }
    );

    private Boolean isValidSignUpDetails() {
        if (binding.inputName.getText().toString().trim().isEmpty()) {
            showToast("Nhập tên tài khoản");
            return false;
        } else if (binding.inputEmail.getText().toString().trim().isEmpty()) {
            showToast("Nhập email");
            return false;
        } else if (!Patterns.EMAIL_ADDRESS.matcher(binding.inputEmail.getText().toString()).matches()) {
            showToast("Thêm ảnh");
            return false;
        } else if (binding.inputPassword.getText().toString().trim().isEmpty()) {
            showToast("Nhập mật khẩu");
            return false;
        } else if (binding.inputConfirmPassword.getText().toString().trim().isEmpty()) {
            showToast("Nhập lại mật khẩu");
            return false;
        } else if (!binding.inputPassword.getText().toString().equals(binding.inputConfirmPassword.getText().toString())) {
            showToast("Mật khẩu nhập lại không khớp với mật khẩu đã nhập trước đó!");
            return false;
        } else {
            return true;
        }

    }

    private void loading(Boolean isLoading) {
        if (isLoading) {
            binding.buttonSignUp.setVisibility(View.INVISIBLE);
            binding.progressBar.setVisibility(View.VISIBLE);
        } else {
            binding.progressBar.setVisibility(View.INVISIBLE);
            binding.buttonSignUp.setVisibility(View.VISIBLE);
        }
    }

}
